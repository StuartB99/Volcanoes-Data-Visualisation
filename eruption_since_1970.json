{
  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  "title": "Eruptions Since 1970",
  "transform": [{"filter": "datum.end_year >2000"}, {"filter": "datum.vei !== 'NA'"}, {"filter": "datum.end_month !== 'NA'"}, {"filter": "datum.end_month >0"}],
  "width": 500, "height": 200,
  "data": {"url": "https://raw.githubusercontent.com/StuartB99/fit3179-ass-2/main/eruptions.csv"},
  "config": {
      "view": {
          "strokeWidth": 0,
          "step": 5
      },
      "axis": {
          "domain": true
      }
  },
  "mark": {"type":"rect", "tooltip":true},
  "encoding": {
      "x": {
          "field": "end_year",
          "timeUnit": "year",
          "type": "ordinal",
          "title": "Year",
          "axis": {
              "labelAngle": 0
          }
      },
      "y": {
          "field": "end_month",
          "timeUnit": "month",
          "type": "ordinal",
          "title": "Month"
      },
      "color": {
          "field": "vei",
          "type": "quantitative",
          "legend": {
              "title": "VEI"
          }
      },
      "tooltip": [
        {"field":"volcano_name", "title":"Volcano name"},
        {"field": "end_month", "type": "ordinal", "timeUnit": "month","title": "Month"},
        {"field": "end_year", "type": "ordinal", "timeUnit": "year", "title": "Year"},      
        {"field": "vei", "type": "quantitative", "title": "VEI"}
    ]
  }
}
